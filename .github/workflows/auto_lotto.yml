name: Update Lotto Numbers

# 1. ì–¸ì œ ì‹¤í–‰í• ê¹Œ?
on:
  schedule:
    # ë§¤ì£¼ í† ìš”ì¼ 12:30 UTC (í•œêµ­ ì‹œê°„ ë°¤ 9ì‹œ 30ë¶„)
    # ë¡œë˜ ì¶”ì²¨ì´ 8ì‹œ 40ë¶„ì¯¤ ëë‚˜ë‹ˆ, ë„‰ë„‰í•˜ê²Œ 9ì‹œ ë°˜ì— ì‹¤í–‰í•©ë‹ˆë‹¤.
    - cron: '30 12 * * 6'
  workflow_dispatch: # ìˆ˜ë™ìœ¼ë¡œ ë²„íŠ¼ ëˆŒëŸ¬ì„œ ì‹¤í–‰ ê°€ëŠ¥í•˜ê²Œ í•¨

jobs:
  update-lotto:
    runs-on: ubuntu-latest
    
    # ê¹ƒí—ˆë¸Œì—ê²Œ "íŒŒì¼ ìˆ˜ì • ê¶Œí•œ"ì„ ì¤ë‹ˆë‹¤
    permissions:
      contents: write

    steps:
      - name: ì½”ë“œ ê°€ì ¸ì˜¤ê¸° (Checkout)
        uses: actions/checkout@v3

      - name: íŒŒì´ì¬ ì„¤ì • (Python Setup)
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'

      - name: ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (Install Requests)
        run: pip install requests

      - name: ë¡œë´‡ ì‹¤í–‰ (Run Script)
        run: python update_lotto.py

      - name: ë³€ê²½ì‚¬í•­ ì €ì¥ ë° ë°°í¬ (Commit & Push)
        run: |
          git config --global user.name "LottoBot"
          git config --global user.email "bot@noreply.github.com"
          git add index.html
          git commit -m "ğŸ¤– ë¡œë´‡ì´ ë¡œë˜ ë²ˆí˜¸ë¥¼ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤" || echo "ë³€ê²½ì‚¬í•­ ì—†ìŒ"
          git push
