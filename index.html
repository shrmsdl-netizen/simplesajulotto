<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ€ ì‹¬í”Œ ì‚¬ì£¼ ë¡œë˜ - ìˆœìˆ˜í•œ í–‰ìš´</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root { --white: #FFFFFF; --black: #111111; --gray: #666666; --light-gray: #F5F5F5; --red: #C62828; --blue: #1565C0; --red-light: #FFEBEE; --blue-light: #E3F2FD; }
        body { font-family: 'Noto Serif KR', serif; background: var(--white); min-height: 100vh; color: var(--black); padding-bottom: 100px; line-height: 1.8; -webkit-font-smoothing: antialiased; }
        header { background: var(--white); padding: 30px 20px 20px; text-align: center; border-bottom: 1px solid var(--light-gray); }
        header h1 { font-size: 28px; font-weight: 700; color: var(--black); letter-spacing: 2px; }
        header h1 .red { color: var(--red); } header h1 .blue { color: var(--blue); }
        header p { font-size: 12px; color: var(--gray); margin-top: 8px; letter-spacing: 1px; }
        nav { position: fixed; bottom: 0; left: 0; right: 0; background: var(--white); display: flex; justify-content: space-around; padding: 12px 0 25px; z-index: 100; border-top: 1px solid var(--light-gray); box-shadow: 0 -2px 10px rgba(0,0,0,0.05); }
        nav button { background: none; border: none; color: var(--gray); font-family: 'Noto Serif KR', serif; font-size: 11px; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 5px 20px; transition: all 0.2s; }
        nav button.active { color: var(--red); } nav button span { font-size: 24px; }
        .tab-content { display: none; padding: 25px 20px; animation: fadeIn 0.3s; max-width: 500px; margin: 0 auto; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .card { background: var(--white); border: 1px solid var(--light-gray); border-radius: 12px; padding: 25px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); }
        .card h3 { font-size: 16px; font-weight: 500; margin-bottom: 20px; color: var(--black); display: flex; align-items: center; gap: 8px; }
        .ball { width: 48px; height: 48px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-size: 18px; font-weight: 700; color: var(--white); margin: 4px; box-shadow: 0 3px 8px rgba(0,0,0,0.15); position: relative; }
        .ball::before { content: ''; position: absolute; top: 6px; left: 10px; width: 10px; height: 10px; background: rgba(255,255,255,0.4); border-radius: 50%; }
        .ball.sm { width: 36px; height: 36px; font-size: 14px; } .ball.sm::before { width: 7px; height: 7px; top: 5px; left: 8px; }
        .ball.y { background: linear-gradient(135deg, #FFC107 0%, #FF9800 100%); } .ball.b { background: linear-gradient(135deg, #1565C0 0%, #0D47A1 100%); }
        .ball.r { background: linear-gradient(135deg, #C62828 0%, #B71C1C 100%); } .ball.g { background: linear-gradient(135deg, #2E7D32 0%, #1B5E20 100%); }
        .ball.p { background: linear-gradient(135deg, #6A1B9A 0%, #4A148C 100%); }
        .balls-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 6px; margin: 20px 0; }
        .btn { background: linear-gradient(135deg, var(--red) 0%, #B71C1C 100%); color: var(--white); border: none; padding: 16px 30px; font-family: 'Noto Serif KR', serif; font-size: 15px; font-weight: 500; border-radius: 8px; cursor: pointer; width: 100%; margin: 8px 0; box-shadow: 0 3px 12px rgba(198,40,40,0.3); transition: all 0.2s; letter-spacing: 1px; }
        .btn.secondary { background: linear-gradient(135deg, #1a1a1a 0%, #333 100%); box-shadow: 0 3px 12px rgba(0,0,0,0.3); }
        .btn.outline { background: var(--white); color: var(--black); border: 1px solid var(--light-gray); box-shadow: none; }
        .btn.donate { background: var(--white); color: var(--black); border: 1px solid var(--gray); box-shadow: none; font-size: 13px; padding: 12px 20px; }
        input[type="number"] { width: 70px; padding: 12px 8px; border: 1px solid var(--light-gray); border-radius: 8px; background: var(--white); color: var(--black); font-family: 'Noto Serif KR', serif; font-size: 16px; text-align: center; }
        .birth-input-group { display: flex; align-items: center; justify-content: center; gap: 8px; margin: 20px 0; }
        .status { text-align: center; padding: 12px; border-radius: 8px; margin: 15px 0; font-size: 13px; background: var(--blue-light); color: var(--blue); }
        .stat-bar { display: flex; align-items: center; margin: 12px 0; }
        .stat-bar .num { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 12px; margin-right: 12px; color: var(--white); }
        .stat-bar .bar-container { flex: 1; height: 8px; background: var(--light-gray); border-radius: 4px; overflow: hidden; }
        .stat-bar .bar { height: 100%; border-radius: 4px; }
        .stat-bar .bar.hot { background: linear-gradient(90deg, var(--red), #E53935); }
        .stat-bar .bar.cold { background: linear-gradient(90deg, var(--blue), #1976D2); }
        .stat-bar .count { width: 45px; text-align: right; font-size: 12px; color: var(--gray); margin-left: 10px; }
        .fortune-card { background: linear-gradient(145deg, var(--red-light), var(--white)); border: 1px solid var(--red); text-align: center; padding: 30px 20px; }
        .fortune-card .emoji { font-size: 60px; margin-bottom: 15px; }
        .fortune-card h2 { color: var(--red); margin-bottom: 15px; font-size: 20px; }
        .fortune-card p { color: var(--gray); line-height: 1.8; font-size: 14px; }
        .history-item { display: flex; justify-content: center; gap: 4px; padding: 15px; background: var(--light-gray); border-radius: 10px; margin: 8px 0; }
        .philosophy-section { margin-top: 40px; padding: 30px 20px; background: var(--light-gray); border-radius: 12px; text-align: center; }
        .philosophy-section p { font-size: 13px; color: var(--gray); line-height: 2; margin-bottom: 25px; }
        .philosophy-section .quote { font-style: italic; border-left: 3px solid var(--red); padding-left: 15px; text-align: left; margin: 20px 0; }
        .toast { position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--black); color: var(--white); padding: 15px 25px; border-radius: 8px; font-size: 14px; opacity: 0; transition: all 0.3s; z-index: 200; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        .modal { display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 200; align-items: center; justify-content: center; padding: 20px; }
        .modal.active { display: flex; }
        .modal-content { background: var(--white); border-radius: 16px; padding: 30px; width: 100%; max-width: 350px; text-align: center; }
        .share-preview { background: var(--light-gray); padding: 20px; border-radius: 12px; margin: 15px 0; }
        .latest-winner { background: var(--blue-light); border: 1px solid var(--blue); border-radius: 12px; padding: 20px; text-align: center; }
        .latest-winner h4 { color: var(--blue); font-size: 14px; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div id="capture-area" style="position: fixed; top: -9999px; left: -9999px; width: 400px; padding: 40px 30px; background: linear-gradient(135deg, #1a1a1a 0%, #2c3e50 100%); color: #fff; text-align: center; font-family: 'Noto Serif KR', serif; border-radius: 20px;">
        <div style="margin-bottom: 20px; border-bottom: 1px solid rgba(255,255,255,0.2); padding-bottom: 20px;">
            <h2 style="font-size: 24px; color: #fff; margin: 0;">ğŸ€ ì‹¬í”Œ ì‚¬ì£¼ ë¡œë˜</h2>
            <p style="font-size: 12px; color: #aaa; letter-spacing: 2px; margin-top: 5px;">PURE LUCK & DESTINY</p>
        </div>
        <div style="font-size: 14px; color: #ddd; margin-bottom: 30px;" id="card-date"></div>
        <div style="background: rgba(255,255,255,0.1); border-radius: 15px; padding: 25px 10px; margin-bottom: 30px; border: 1px solid rgba(255,255,255,0.1);">
            <p style="font-size: 12px; color: #aaa; margin-bottom: 15px;">ë‹¹ì‹ ì˜ í–‰ìš´ ë²ˆí˜¸</p>
            <div id="card-numbers" style="display: flex; justify-content: center; gap: 8px;"></div>
        </div>
        <div style="margin-bottom: 40px;">
            <p style="font-size: 16px; font-weight: bold; color: #FFD700; margin-bottom: 10px;">"í–‰ìš´ì€ ìˆœìˆ˜í•œ íë¦„ ì†ì— ê¹ƒë“­ë‹ˆë‹¤"</p>
            <p style="font-size: 11px; color: #888; line-height: 1.6;">ìƒì—…ì  ì†ŒìŒì´ ì—†ëŠ” ì²­ì • êµ¬ì—­ì—ì„œ<br>ì¶”ì¶œëœ ë‹¹ì‹ ë§Œì˜ ê³ ìœ í•œ ë²ˆí˜¸ì…ë‹ˆë‹¤.</p>
        </div>
        <div style="font-size: 10px; color: rgba(255,255,255,0.3);">www.simplesajulotto.com</div>
    </div>

    <header>
        <h1>ğŸ€ <span class="red">ì‹¬</span><span class="blue">í”Œ</span> ì‚¬ì£¼ ë¡œë˜</h1>
        <p>ì—­ëŒ€ ë‹¹ì²¨ë²ˆí˜¸ 100% ì œì™¸ Â· ì‚¬ì£¼ ê¸°ë°˜ í–‰ìš´ ë²ˆí˜¸</p>
    </header>
    
    <div id="tab-generate" class="tab-content active">
        <div class="card">
            <div class="status" id="analysisStatus">âœ… ì—­ëŒ€ ë‹¹ì²¨ë²ˆí˜¸ ë¶„ì„ ì™„ë£Œ</div>
            <div class="main-generate">
                <div class="balls-container" id="generatedNumbers">
                    <div class="ball y">?</div><div class="ball b">?</div><div class="ball r">?</div>
                    <div class="ball r">?</div><div class="ball g">?</div><div class="ball p">?</div>
                </div>
                <button class="btn" onclick="generateNumbers()">í–‰ìš´ì˜ ë²ˆí˜¸ ìƒì„±</button>
                <div style="display: flex; gap: 10px; margin-top: 10px;">
                    <button class="btn outline" onclick="openShareModal()" style="flex: 1; margin: 0;">ë²ˆí˜¸ ê³µìœ </button>
                    <button class="btn secondary" onclick="downloadImage()" style="flex: 1; margin: 0;">ğŸ“¸ ì´ë¯¸ì§€ ì €ì¥</button>
                </div>
                <div class="feature-badge">âœ¨ ì—­ëŒ€ ë‹¹ì²¨ë²ˆí˜¸ì™€ 100% ê²¹ì¹˜ì§€ ì•ŠëŠ” ìƒˆë¡œìš´ ì¡°í•©</div>
            </div>
        </div>
        
        <div class="card" id="historyCard" style="display:none;">
            <h3>ğŸ“‹ ì˜¤ëŠ˜ ìƒì„±í•œ ë²ˆí˜¸</h3>
            <div id="historyList"></div>
        </div>
        
        <div class="card latest-winner">
            <h4>ğŸ† ìµœì‹  ë‹¹ì²¨ë²ˆí˜¸ (ì œ<span id="display-round"></span>íšŒ)</h4>
            <p style="font-size:12px;color:var(--gray);margin-bottom:10px;"><span id="display-date"></span> ì¶”ì²¨</p>
            <div class="balls-container" id="display-latest-balls"></div>
        </div>
        
        <div class="philosophy-section">
            <div class="quote">
                <p>í–‰ìš´ì€ ìˆœìˆ˜í•œ íë¦„ ì†ì— ê¹ƒë“­ë‹ˆë‹¤.<br><br>ìš°ë¦¬ëŠ” ë‹¹ì‹ ì˜ ìš´ì„¸ì— ìƒì—…ì ì¸ ì†ŒìŒì´ë‚˜<br>ë¶ˆìˆœí•œ ê¸°ìš´ì´ ì„ì´ëŠ” ê²ƒì„ ì›ì¹˜ ì•ŠìŠµë‹ˆë‹¤.<br><br>ê·¸ë ‡ê¸°ì— ì´ê³³ì€ ì¼ì²´ì˜ ê´‘ê³ ë¥¼ ë°°ì œí•œ<br>ì²­ì • êµ¬ì—­ìœ¼ë¡œ ë‚¨ê²¨ë‘ì—ˆìŠµë‹ˆë‹¤.<br><br>ì„œë²„ì˜ ìœ ì§€ëŠ” ì˜¤ì§ ì‚¬ìš©ìì˜<br>ìë°œì ì¸ í›„ì›ìœ¼ë¡œë§Œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.<br><br>ê¸ˆì•¡ì˜ í¬ê¸°ë‚˜ ì‹œê¸°ëŠ” ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>ê·¸ì € ë‹¹ì‹ ì˜ í–‰ìš´ì´ ì˜¨ì „í•˜ê¸°ë¥¼ ë°”ë¼ëŠ” ë§ˆìŒ,<br>ê·¸ ììœ ë¡œìš´ ì˜ì§€ì— ë§¡ê¹ë‹ˆë‹¤.</p>
            </div>
            <button class="btn donate" onclick="copyAccount()">â˜• ê´‘ê³  ì—†ëŠ” 'ì²­ì • í–‰ìš´' í›„ì›í•˜ê¸°</button>
        </div>
    </div>
    
    <div id="tab-fortune" class="tab-content">
        <div class="card">
            <h3>ğŸ‚ ìƒë…„ì›”ì¼ë¡œ í–‰ìš´ ë²ˆí˜¸ ë°›ê¸°</h3>
            <p style="font-size:13px;color:var(--gray);margin-bottom:15px;">ì‚¬ì£¼ ê¸°ë°˜ìœ¼ë¡œ ì˜¤ëŠ˜ì˜ í–‰ìš´ ë²ˆí˜¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.<br>ê°™ì€ ìƒë…„ì›”ì¼ì´ë©´ ê°™ì€ ë‚  í•­ìƒ ê°™ì€ ë²ˆí˜¸ê°€ ë‚˜ì˜µë‹ˆë‹¤.</p>
            <div class="birth-input-group">
                <input type="number" id="birthYear" placeholder="1990" min="1900" max="2025"><label>ë…„</label>
                <input type="number" id="birthMonth" placeholder="1" min="1" max="12"><label>ì›”</label>
                <input type="number" id="birthDay" placeholder="1" min="1" max="31"><label>ì¼</label>
            </div>
            <button class="btn" style="background: linear-gradient(135deg, #1565C0 0%, #0D47A1 100%);" onclick="getFortune()">ì˜¤ëŠ˜ì˜ í–‰ìš´ ë²ˆí˜¸ ë°›ê¸°</button>
        </div>
        <div class="card fortune-card" id="fortuneResult" style="display:none;">
            <div class="emoji" id="fortuneEmoji">ğŸŒŸ</div>
            <h2 id="fortuneTitle"></h2>
            <p id="fortuneText"></p>
            <div class="balls-container" id="fortuneNumbers" style="margin-top:20px;"></div>
            <p style="color:var(--red);font-size:13px;margin-top:15px;" id="fortuneTip"></p>
        </div>
    </div>
    
    <div id="tab-stats" class="tab-content">
        <div class="card"><h3>ğŸ”¥ ìµœê·¼ 50íšŒ ìì£¼ ë‚˜ì˜¨ ë²ˆí˜¸</h3><div id="hotNumbers"></div></div>
        <div class="card"><h3>â„ï¸ ìµœê·¼ 50íšŒ ì•ˆ ë‚˜ì˜¨ ë²ˆí˜¸</h3><div id="coldNumbers"></div></div>
    </div>
    
    <div class="modal" id="shareModal">
        <div class="modal-content">
            <h3>ë²ˆí˜¸ ê³µìœ í•˜ê¸°</h3>
            <div class="share-preview"><p style="font-size:14px;color:var(--gray);margin-bottom:10px;">ğŸ€ ì‹¬í”Œë¡œë˜ ì¶”ì²œë²ˆí˜¸</p><div class="balls-container" id="shareNumbers"></div></div>
            <button class="btn outline" onclick="copyNumbers()">ë²ˆí˜¸ ë³µì‚¬</button>
            <button class="btn outline" onclick="closeShareModal()">ë‹«ê¸°</button>
        </div>
    </div>
    <div class="toast" id="toast"></div>
    
    <nav>
        <button class="active" onclick="switchTab('generate')"><span>ğŸ²</span>ë²ˆí˜¸ìƒì„±</button>
        <button onclick="switchTab('fortune')"><span>ğŸ”®</span>ì‚¬ì£¼ìš´ì„¸</button>
        <button onclick="switchTab('stats')"><span>ğŸ“Š</span>í†µê³„</button>
    </nav>

<script>
// â–¼â–¼â–¼â–¼ ë¡œë´‡ ìˆ˜ì • ì‹œì‘ â–¼â–¼â–¼â–¼
const LATEST_ROUND = 1205;
const LATEST_DATE  = "2026ë…„ 1ì›” 4ì¼";
const PAST_WINNERS = [
    [1, 4, 16, 23, 31, 41, 2],
    [10,23,29,33,37,40],[9,13,21,25,32,42],[11,16,19,21,27,31],[14,27,30,31,40,42],[16,24,29,40,41,42],
    [14,15,26,27,40,42],[2,9,16,25,26,40],[8,19,25,34,37,39],[2,4,16,17,36,39],[9,25,30,33,41,44],
    [1,7,36,37,41,42],[2,11,21,25,39,45],[22,34,36,37,42,44],[2,6,12,19,33,44],[1,4,9,23,34,45],
    [6,13,27,35,40,41],[4,14,22,38,39,45],[6,8,14,21,23,38],[3,5,15,16,44,45],[8,13,14,26,28,43],
    [5,17,18,23,30,33],[4,5,7,9,24,42],[1,6,11,20,31,35],[7,16,34,37,38,43],[4,9,12,14,24,44],
    [2,10,12,13,23,29],[2,14,16,18,28,43],[3,6,7,8,27,35],[1,5,23,24,35,37],[9,14,20,23,33,34],
    [11,16,21,22,28,42],[8,18,21,27,29,45],[1,4,7,23,28,43],[3,13,24,29,34,40],[5,6,17,22,28,31],
    [3,4,14,15,22,26],[1,4,15,25,29,30],[4,6,14,16,24,40],[5,6,11,22,25,38],[12,19,24,26,38,43]
];
// â–²â–²â–²â–² ë¡œë´‡ ìˆ˜ì • ë â–²â–²â–²â–²

const MY_ACCOUNT = "ì¼€ì´ë±…í¬ 100150462483 ê¹€ëŒ€ì¸";
const pastSet = new Set(PAST_WINNERS.map(arr => [...arr].slice(0,6).sort((a,b)=>a-b).join(',')));
let currentNumbers = [];
const history = [];

function getBallColor(num) { if (num <= 10) return 'y'; if (num <= 20) return 'b'; if (num <= 30) return 'r'; if (num <= 40) return 'g'; return 'p'; }
function createBall(num, size = '') { return `<div class="ball ${size} ${getBallColor(num)}">${num}</div>`; }
function getGradient(num) { if (num <= 10) return 'linear-gradient(135deg, #FFC107, #FF9800)'; if (num <= 20) return 'linear-gradient(135deg, #1565C0, #0D47A1)'; if (num <= 30) return 'linear-gradient(135deg, #C62828, #B71C1C)'; if (num <= 40) return 'linear-gradient(135deg, #2E7D32, #1B5E20)'; return 'linear-gradient(135deg, #6A1B9A, #4A148C)'; }
function showToast(message) { const toast = document.getElementById('toast'); toast.textContent = message; toast.classList.add('show'); setTimeout(() => toast.classList.remove('show'), 3000); }
function copyAccount() { navigator.clipboard.writeText(MY_ACCOUNT); showToast('ê³„ì¢Œë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤'); }
function copyNumbers() { navigator.clipboard.writeText(`ğŸ€ ì‹¬í”Œë¡œë˜: ${currentNumbers.join(', ')}`); showToast('ë²ˆí˜¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤'); closeShareModal(); }
function closeShareModal() { document.getElementById('shareModal').classList.remove('active'); }
function openShareModal() { if (!currentNumbers.length) { showToast('ë¨¼ì € ë²ˆí˜¸ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”'); return; } document.getElementById('shareNumbers').innerHTML = currentNumbers.map(n => createBall(n, 'sm')).join(''); document.getElementById('shareModal').classList.add('active'); }

function switchTab(tabName) {
    document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
    document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
    document.getElementById('tab-' + tabName).classList.add('active');
    event.currentTarget.classList.add('active');
    if (tabName === 'stats') updateStats();
}

window.onload = function() {
    document.getElementById('display-round').textContent = LATEST_ROUND;
    document.getElementById('display-date').textContent = LATEST_DATE;
    const latest = PAST_WINNERS[0];
    document.getElementById('display-latest-balls').innerHTML = latest.slice(0,6).map(n => createBall(n, 'sm')).join('') + `<span style="margin:0 8px;color:var(--gray);">+</span>` + createBall(latest[6], 'sm');
    updateStats();
};

function generateNumbers() {
    const ballContainer = document.getElementById('generatedNumbers');
    let numbers;
    do {
        numbers = [];
        while(numbers.length < 6) {
            let r = Math.floor(Math.random() * 45) + 1;
            if(!numbers.includes(r)) numbers.push(r);
        }
        numbers.sort((a, b) => a - b);
    } while (pastSet.has(numbers.join(',')));
    currentNumbers = numbers;
    ballContainer.innerHTML = numbers.map(n => createBall(n)).join('');
    history.unshift(numbers);
    if (history.length > 5) history.pop();
    document.getElementById('historyCard').style.display = 'block';
    document.getElementById('historyList').innerHTML = history.map(nums => `<div class="history-item">${nums.map(n => createBall(n, 'sm')).join('')}</div>`).join('');
}

function updateStats() {
    const stats = {};
    for (let i = 1; i <= 45; i++) stats[i] = 0;
    PAST_WINNERS.slice(0, 50).forEach(nums => nums.slice(0,6).forEach(n => stats[n]++));
    const sorted = Object.entries(stats).map(([n, c]) => ({num: +n, count: c})).sort((a,b) => b.count - a.count);
    const max = sorted[0].count || 1;
    document.getElementById('hotNumbers').innerHTML = sorted.slice(0, 10).map(i => `<div class="stat-bar"><div class="num" style="background:${getGradient(i.num)}">${i.num}</div><div class="bar-container"><div class="bar hot" style="width:${i.count/max*100}%"></div></div><div class="count">${i.count}íšŒ</div></div>`).join('');
    document.getElementById('coldNumbers').innerHTML = sorted.slice(-10).reverse().map(i => `<div class="stat-bar"><div class="num" style="background:${getGradient(i.num)}">${i.num}</div><div class="bar-container"><div class="bar cold" style="width:${i.count/max*100}%"></div></div><div class="count">${i.count}íšŒ</div></div>`).join('');
}

const fortunes = [{ emoji: 'ğŸŒŸ', title: 'ëŒ€ë°•ì˜ ê¸°ìš´', text: 'ì˜¤ëŠ˜ì€ ì¬ë¬¼ìš´ì´ ìµœê³ ì¡°ì…ë‹ˆë‹¤.' }, { emoji: 'âœ¨', title: 'ìƒìŠ¹í•˜ëŠ” ìš´ì„¸', text: 'ì‘ì€ íˆ¬ìê°€ í° ê²°ì‹¤ì„ ë§ºì„ ìˆ˜ ìˆëŠ” ë‚ ì…ë‹ˆë‹¤.' }];
function seededRandom(seed) { const x = Math.sin(seed) * 10000; return x - Math.floor(x); }
function getFortune() {
    const year = document.getElementById('birthYear').value;
    if(!year) { showToast('ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }
    const combinedSeed = new Date().getDate() + parseInt(year);
    const f = fortunes[Math.floor(seededRandom(combinedSeed) * fortunes.length)];
    let nums = [];
    while(nums.length < 6) {
        let r = Math.floor(seededRandom(combinedSeed + nums.length) * 45) + 1;
        if(!nums.includes(r)) nums.push(r);
    }
    nums.sort((a,b)=>a-b);
    document.getElementById('fortuneResult').style.display = 'block';
    document.getElementById('fortuneEmoji').textContent = f.emoji;
    document.getElementById('fortuneTitle').textContent = f.title;
    document.getElementById('fortuneText').textContent = f.text;
    document.getElementById('fortuneNumbers').innerHTML = nums.map(n => createBall(n)).join('');
}

function downloadImage() {
    const today = new Date();
    document.getElementById('card-date').innerText = `${today.getFullYear()}. ${today.getMonth()+1}. ${today.getDate()}`;
    document.getElementById('card-numbers').innerHTML = currentNumbers.map(n => createBall(n)).join('');
    html2canvas(document.getElementById('capture-area'), { backgroundColor: null, scale: 2 }).then(canvas => {
        const imgData = canvas.toDataURL("image/png");
        const link = document.createElement('a');
        link.download = 'lucky-numbers.png';
        link.href = imgData;
        link.click();
    });
}
</script>
</body>
</html>
